"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[445],{5445:function(t,s,e){e.r(s),e.d(s,{default:function(){return z}});var n=e(1413),r=e(5671),o=e(3144),u=e(136),i=e(5716),a=e(2791),l="Profile_profile__UraoW",p="ProfileInfo_profileInfo__cEcwY",c="ProfileInfo_descriptionBlock__LlPoU",d=e(8388),f=e(885),h=e(184),j=function(t){var s=(0,a.useState)(!1),e=(0,f.Z)(s,2),n=e[0],r=e[1],o=(0,a.useState)(t.status),u=(0,f.Z)(o,2),i=u[0],l=u[1];(0,a.useEffect)((function(){l(t.status)}),[t.status]);return(0,h.jsxs)("div",{children:[!n&&(0,h.jsx)("div",{children:(0,h.jsx)("span",{onDoubleClick:function(){r(!0)},children:t.status||"-------"})}),n&&(0,h.jsx)("div",{children:(0,h.jsx)("input",{onChange:function(t){l(t.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),t.updateStatus(i)},value:i})})]})},m=function(t){var s,e=t.profile,n=t.status,r=t.updateStatus;return e?(0,h.jsxs)("div",{className:p,children:[(0,h.jsxs)("div",{className:c,children:[(0,h.jsx)("img",{src:null===(s=e.photos)||void 0===s?void 0:s.large}),(0,h.jsx)(j,{status:n,updateStatus:r})]}),(0,h.jsxs)("div",{children:["name: ",e.fullName]})]}):(0,h.jsx)(d.Z,{})},x="MyPosts_posts__so5M3",v="MyPosts_postsBlock__h8Sj5",P=e(6407),g="Post_item__HSN9y",_=function(t){return(0,h.jsxs)("div",{className:g,children:[(0,h.jsx)("img",{src:"https://shapka-youtube.ru/wp-content/uploads/2020/12/ava-anime-11.jpg",alt:""}),t.message,(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{children:"like "}),t.likesCount]})]})},S=e(6139),k=e(704),Z=e(3079),N=e(1117),w=a.memo((function(t){var s=t.posts.map((function(t){return(0,h.jsx)(_,{message:t.message,likesCount:t.likesCount})}));return(0,h.jsxs)("div",{className:v,children:[(0,h.jsx)("h3",{children:"My posts"}),(0,h.jsx)(C,{onSubmit:function(s){console.log(s),t.addPost(s.newPostText)}}),(0,h.jsx)("div",{className:x,children:s})]})})),y=(0,Z.D)(10),C=(0,k.Z)({form:"ProfileAddNewPostForm"})((function(t){return(0,h.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,h.jsx)(S.Z,{name:"newPostText",component:N.Kx,placeholder:"Post message",validate:[Z.C,y]}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{children:"Add post"})})]})})),I=w,b=e(364),A=(0,b.$j)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(s){t((0,P.Pi)(s))}}}))(I),U=function(t){return(0,h.jsxs)("div",{className:l,children:[(0,h.jsx)(m,{profile:t.profilePage.profile,status:t.status,updateStatus:t.updateStatus}),(0,h.jsx)(A,{})]})},D=e(9271),M=e(2932),T=e(7781),E=function(t){(0,u.Z)(e,t);var s=(0,i.Z)(e);function e(){return(0,r.Z)(this,e),s.apply(this,arguments)}return(0,o.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId?this.props.match.params.userId:this.props.authorizedUserId?this.props.authorizedUserId:this.props.history.push("/login");t&&(this.props.getUserProfile(t),this.props.getStatus(t))}},{key:"render",value:function(){return(0,h.jsx)(U,(0,n.Z)((0,n.Z)({},this.props),{},{profilePage:this.props.profilePage,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),e}(a.Component),$=function(t){var s;return{profilePage:t.profilePage,status:t.profilePage.status,authorizedUserId:null!==(s=t.auth.userId)&&void 0!==s?s:"",isAuth:t.auth.isAuth}};(0,T.qC)((0,b.$j)($,{getUserProfile:P.et}),D.EN,M.D)(E);var z=(0,T.qC)((0,b.$j)($,{getUserProfile:P.et,getStatus:P.lR,updateStatus:P.Nf}),D.EN)(E)},2932:function(t,s,e){e.d(s,{D:function(){return p}});var n=e(1413),r=e(5987),o=(e(2791),e(9271)),u=e(364),i=e(184),a=["isAuth"],l=function(t){return{isAuth:t.auth.isAuth}};function p(t){return(0,u.$j)(l)((function(s){var e=s.isAuth,u=(0,r.Z)(s,a);return e?(0,i.jsx)(t,(0,n.Z)({},u)):(0,i.jsx)(o.l_,{to:"/login"})}))}}}]);
//# sourceMappingURL=445.f451d51a.chunk.js.map